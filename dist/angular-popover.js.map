{"version":3,"sources":["angular-popover.js"],"names":["mod","app","angular","module","directive","$window","restrict","transclude","scope","template","link","element","attrs","elementPositionProperty","getComputedStyle","position","style","popover_container","querySelector","popover","parent_height","parent_width","popover_height","popover_width","triangle","triangle_height","triangle_diagonal","triangle_div_side","triangle_rect_div_side","Math","sqrt","mode","closeOnClick","undefined","closeOnMouseleave","createPopover","templateElement","innerHTML","backgroundColor","textColor","color","padding","clientHeight","clientWidth","direction","top","left","right","getContentPopover","templateUrl","isTemplateUrl","getTriangleClass","addEventListener","classList","add","toggle","remove","contains","exports"],"mappings":"AAAA,IAAIA,MAAI;IACP,IAAIC,MAAMC,QAAQC,OAAO,mBAAmB;IAC5CF,IAAIG,UAAU,kBAAkB,EAAC,WAAW,SAASC;QACpD,OAAO;YACNC,UAAU;YACVC,YAAY;YACZC,OAAO;YACPC,UAAU;YACVC,MAAM,SAASF,OAAOG,SAASC;gBAE9B,IAAIC,0BAA0BR,QAAQS,iBAAiBH,QAAQ,IAAII;gBACnE,IAAGF,4BAA4B,UAAU;oBACxCF,QAAQ,GAAGK,MAAMD,WAAW;;gBAI7B,IAAIE,oBAAoBN,QAAQ,GAAGO,cAAc,+BAChDC,SACAC,eACAC,cACAC,gBACAC,eACAC,UACAC,iBACAC,mBACAC,oBAAoB,IACpBC,yBAAyB;gBAE1BH,kBAAkBI,KAAKC,KAAKH,oBAAoBA,oBAAoB;gBACpED,oBAAoBG,KAAKC,KAAKH,oBAAoBA,oBAAoB;gBACtE,IAAII,OAAOnB,MAAMmB,QAAQ;gBACzB,IAAIC,eAAepB,MAAMoB,iBAAiBC,YAAYF,SAAS,UAAWnB,MAAMoB,iBAAiB;gBAEjG,IAAIE,oBAAoBtB,MAAMsB,sBAAsBD,YAAYF,SAAS,cAAenB,MAAMsB,sBAAsB;gBAExG,IAAIC,gBAAgB;oBAEhB,IAAGvB,MAAMH,UAAU;wBACf,IAAI2B,kBAAkBzB,QAAQ,GAAGO,cAAc;wBAC/CkB,gBAAgBC,YAAYzB,MAAMH;;oBAGtC,IAAGG,MAAM0B,iBAAiB;wBACtBnB,QAAQH,MAAM,sBAAsBJ,MAAM0B;;oBAG9C,IAAG1B,MAAM2B,WAAW;wBAChBpB,QAAQH,MAAMwB,QAAQ5B,MAAM2B;;oBAGhC,IAAG3B,MAAM6B,SAAS;wBACdtB,QAAQH,MAAMyB,UAAU7B,MAAM6B;;oBAGlCnB,iBAAiBH,QAAQuB;oBACzBnB,gBAAgBJ,QAAQwB;oBAGxB,QAAO/B,MAAMgC;sBACT,KAAK;wBACDzB,QAAQH,MAAM6B,OAAQzB,gBAAgBE,iBAAiBG,kBAAmB;wBAC1EN,QAAQH,MAAM8B,QAASzB,eAAeE,iBAAe,IAAK;wBAC1DC,SAASR,MAAM6B,OAAQzB,gBAAgBK,kBAAmB;wBAC1DD,SAASR,MAAM8B,QAASzB,eAAeO,0BAAwB,IAAK;wBACpE;;sBAEJ,KAAK;wBACDT,QAAQH,MAAM6B,MAAMpB,kBAAkB;wBACtCN,QAAQH,MAAM8B,QAASzB,eAAeE,iBAAe,IAAK;wBAC1DC,SAASR,MAAM6B,QAAQjB,yBAAyBH,mBAAmB;wBACnED,SAASR,MAAM8B,QAASzB,eAAeO,0BAAwB,IAAK;wBACpE;;sBAEJ,KAAK;wBACDT,QAAQH,MAAM6B,OAAQzB,gBAAgBE,kBAAgB,IAAIF,gBAAiB;wBAC3ED,QAAQH,MAAM8B,OAAOzB,eAAeI,kBAAkB;wBACtDD,SAASR,MAAM6B,OAAQzB,gBAAgBQ,0BAAwB,IAAIR,gBAAiB;wBACpFI,SAASR,MAAM8B,OAAQzB,gBAAgBO,yBAAyBH,mBAAoB;wBACpF;;sBAEJ,KAAK;wBACDN,QAAQH,MAAM6B,OAAQzB,gBAAgBE,kBAAgB,IAAIF,gBAAiB;wBAC3ED,QAAQH,MAAM+B,QAAQtB,kBAAkB;wBACxCD,SAASR,MAAM6B,OAAQzB,gBAAgBQ,0BAAwB,IAAIR,gBAAiB;wBACpFI,SAASR,MAAM8B,QAAQrB,kBAAkB;wBACzC;;;gBAKxBjB,MAAMwC,oBAAoB;oBACzB,OAAOpC,MAAMqC;;gBAGdzC,MAAM0C,gBAAgB;oBACrB,IAAGtC,MAAMqC,aAAa;wBACrB,OAAO;;oBAER,OAAO;;gBAIRzC,MAAM2C,mBAAmB;oBACxB,OAAO,8BAA8BvC,MAAMgC;;gBAI5C,IAAGV,mBAAmB;oBACrBvB,QAAQ,GAAGyC,iBAAiB,cAAc;wBACzC,IAAIjC,SAAS;4BACSA,QAAQkC,UAAUC,IAAI;4BACtB9B,SAAS6B,UAAUC,IAAI;;;;gBAK/C,IAAGvB,SAAS,WAAWC,cAAc;oBACpCrB,QAAQ,GAAGyC,iBAAiB,SAAS;wBACpC,IAAIjC,SAAS;4BACSA,QAAQkC,UAAUC,IAAI;4BACtB9B,SAAS6B,UAAUC,IAAI;;;;gBAM/C3C,QAAQ,GAAGyC,iBAAiBrB,MAAM;oBACjCX,gBAAgBT,QAAQ,GAAG+B;oBAG3BzB,kBAAkBD,MAAM6B,MAAMzB,gBAAgB;oBAC9CC,eAAeV,QAAQ,GAAGgC;oBAC1BxB,UAAUR,QAAQ,GAAGO,cAAc;oBACnCM,WAAWb,QAAQ,GAAGO,cAAc;oBAEpC,IAAGa,SAAS,WAAWC,cAAc;wBACpCb,QAAQkC,UAAUE,OAAO;wBACzB/B,SAAS6B,UAAUE,OAAO;wBAC1BtC,kBAAkBoC,UAAUE,OAAO;wBACnCtC,kBAAkBoC,UAAUE,OAAO,gCAAgC3C,MAAMgC;2BAGrE,IAAGb,SAAS,YAAYC,cAAc;wBAC1Cb,QAAQkC,UAAUG,OAAO;wBACzBhC,SAAS6B,UAAUG,OAAO;wBAC1BvC,kBAAkBoC,UAAUC,IAAI;wBAChCrC,kBAAkBoC,UAAUC,IAAI,gCAAgC1C,MAAMgC;2BAIlE,IAAGzB,QAAQkC,UAAUI,SAAS,yBAAyB;wBAC3DtC,QAAQkC,UAAUG,OAAO;wBACzBhC,SAAS6B,UAAUG,OAAO;wBAC1BvC,kBAAkBoC,UAAUC,IAAI;wBAChCrC,kBAAkBoC,UAAUC,IAAI,gCAAgC1C,MAAMgC;;oBAGvE,KAAIzB,QAAQkC,UAAUI,SAAS,yBAAyB;wBACvDtB;;;;;;IAQJ,OAAOlC;CAtKD,CAyKPE,UAAQA,OAAOuD,WAChBvD,OAAOuD,UAAQ1D,QAAM","file":"angular-popover.js","sourcesContent":["var mod=function() {\n\tvar app = angular.module('angular-popover', []);\n\tapp.directive('angularPopover', ['$window', function($window) {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\ttransclude: true,\n\t\t\tscope: true,\n\t\t\ttemplate: '<div class=\"angular-popover-container\"><div class=\"angular-popover hide-popover-element\"><div ng-if=\"isTemplateUrl()\" ng-include=\"getContentPopover()\" class=\"angular-popover-template\"></div><div ng-if=\"!isTemplateUrl()\" class=\"angular-popover-template\"></div></div><div class=\"angular-popover-triangle hide-popover-element\" ng-class=\"getTriangleClass()\"></div></div><ng-transclude></ng-transclude>',\n\t\t\tlink: function(scope, element, attrs) {\n\n\t\t\t\tvar elementPositionProperty = $window.getComputedStyle(element[0]).position;\n\t\t\t\tif(elementPositionProperty === 'static') {\n\t\t\t\t\telement[0].style.position = 'relative';\n\t\t\t\t}\n\n\t\t\t\t//the root div of the popup template\n\t\t\t\tvar popover_container = element[0].querySelector('.angular-popover-container'), \n\t\t\t\t\tpopover, //the popover element\n\t\t\t\t\tparent_height, //height of the element to which the directive is attached\n\t\t\t\t\tparent_width, //width of the element to which the directive is attached\n\t\t\t\t\tpopover_height, //height of the popover\n\t\t\t\t\tpopover_width, //width of the popover\n\t\t\t\t\ttriangle, //the small triangle attached with the popover\n\t\t\t\t\ttriangle_height, //vertical height of the triangle\n\t\t\t\t\ttriangle_diagonal, //base of the triangle\n\t\t\t\t\ttriangle_div_side = 15, //side of the triangle\n\t\t\t\t\ttriangle_rect_div_side = 30; //the div which has been rotated to make a triangle using the after pseudo class\n\n\t\t\t\ttriangle_height = Math.sqrt(triangle_div_side * triangle_div_side / 2);\n\t\t\t\ttriangle_diagonal = Math.sqrt(triangle_div_side * triangle_div_side * 2);\n\t\t\t\tvar mode = attrs.mode || 'click';\n\t\t\t\tvar closeOnClick = attrs.closeOnClick === undefined ? mode === 'click' : (attrs.closeOnClick === 'true');\n\n\t\t\t\tvar closeOnMouseleave = attrs.closeOnMouseleave === undefined ? mode === 'mouseover' : (attrs.closeOnMouseleave === 'true');\n\n                var createPopover = function() {\n                    //if the template is supplied instead of templateUrl, set the popover innerHTML to the string passed in the 'template' attribute\n                    if(attrs.template) {\n                        var templateElement = element[0].querySelector('.angular-popover-template');\n                        templateElement.innerHTML = attrs.template;\n                    }\n\n                    if(attrs.backgroundColor) {\n                        popover.style['background-color'] = attrs.backgroundColor;\n                    }\n\n                    if(attrs.textColor) {\n                        popover.style.color = attrs.textColor;\n                    }\n\n                    if(attrs.padding) {\n                        popover.style.padding = attrs.padding;\n                    }\n\n                    popover_height = popover.clientHeight;\n                    popover_width = popover.clientWidth;\n\n                    //check direction and calculate position for appending popover and triangle\n                    switch(attrs.direction) {\n                        case 'top' :\n                            popover.style.top = (-parent_height - popover_height - triangle_height) + 'px';\n                            popover.style.left = ((parent_width - popover_width)/2) + 'px';\n                            triangle.style.top = (-parent_height - triangle_height) + 'px';\n                            triangle.style.left = ((parent_width - triangle_rect_div_side)/2) + 'px';\n                            break;\n\n                        case 'bottom':\n                            popover.style.top = triangle_height + 'px';\n                            popover.style.left = ((parent_width - popover_width)/2) + 'px';\n                            triangle.style.top = -(triangle_rect_div_side - triangle_height) + 'px';\n                            triangle.style.left = ((parent_width - triangle_rect_div_side)/2) + 'px';\n                            break;\n\n                        case 'right':\n                            popover.style.top = ((parent_height - popover_height)/2 - parent_height) + 'px';\n                            popover.style.left = parent_width + triangle_height + 'px';\n                            triangle.style.top = ((parent_height - triangle_rect_div_side)/2 - parent_height) + 'px';\n                            triangle.style.left = (parent_width - (triangle_rect_div_side - triangle_height)) + 'px';\n                            break;\n\n                        case 'left':\n                            popover.style.top = ((parent_height - popover_height)/2 - parent_height) + 'px';\n                            popover.style.right = triangle_height + 'px';\n                            triangle.style.top = ((parent_height - triangle_rect_div_side)/2 - parent_height) + 'px';\n                            triangle.style.left = -triangle_height + 'px';\n                            break;\n                    }\n                };\n\n\t\t\t\t//return the path of the popover template\n\t\t\t\tscope.getContentPopover = function() {\n\t\t\t\t\treturn attrs.templateUrl;\t\n\t\t\t\t};\n\n\t\t\t\tscope.isTemplateUrl = function() {\n\t\t\t\t\tif(attrs.templateUrl) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\t//depending upon the direction specified, attached the appropriate class to the popover \n\t\t\t\tscope.getTriangleClass = function() {\n\t\t\t\t\treturn 'angular-popover-triangle-' + attrs.direction;\n\t\t\t\t};\n\n\n\t\t\t\tif(closeOnMouseleave) {\n\t\t\t\t\telement[0].addEventListener('mouseleave', function() {\n\t\t\t\t\t\tif (popover) {\n                            popover.classList.add('hide-popover-element');\n                            triangle.classList.add('hide-popover-element');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif(mode !== 'click' && closeOnClick) {\n\t\t\t\t\telement[0].addEventListener('click', function() {\n\t\t\t\t\t\tif (popover) {\n                            popover.classList.add('hide-popover-element');\n                            triangle.classList.add('hide-popover-element');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t//listen for click on the directive element\n\t\t\t\telement[0].addEventListener(mode, function() {\n\t\t\t\t\tparent_height = element[0].clientHeight;\n\n\t\t\t\t\t//move the popover container to the bottom of the directive element\n\t\t\t\t\tpopover_container.style.top = parent_height + 'px';\n\t\t\t\t\tparent_width = element[0].clientWidth;\n\t\t\t\t\tpopover = element[0].querySelector('.angular-popover');\n\t\t\t\t\ttriangle = element[0].querySelector('.angular-popover-triangle');\n\n\t\t\t\t\tif(mode === 'click' && closeOnClick) {\n\t\t\t\t\t\tpopover.classList.toggle('hide-popover-element');\n\t\t\t\t\t\ttriangle.classList.toggle('hide-popover-element');\n\t\t\t\t\t\tpopover_container.classList.toggle('popover-animation');\n\t\t\t\t\t\tpopover_container.classList.toggle('popover-floating-animation-' + attrs.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\telse if(mode === 'click' && !closeOnClick) {\n\t\t\t\t\t\tpopover.classList.remove('hide-popover-element');\n\t\t\t\t\t\ttriangle.classList.remove('hide-popover-element');\n\t\t\t\t\t\tpopover_container.classList.add('popover-animation');\n\t\t\t\t\t\tpopover_container.classList.add('popover-floating-animation-' + attrs.direction);\t\n\t\t\t\t\t}\n\n\t\t\t\t\t//'mouseover' mode\n\t\t\t\t\telse if(popover.classList.contains('hide-popover-element')) {\n\t\t\t\t\t\tpopover.classList.remove('hide-popover-element');\n\t\t\t\t\t\ttriangle.classList.remove('hide-popover-element');\n\t\t\t\t\t\tpopover_container.classList.add('popover-animation');\n\t\t\t\t\t\tpopover_container.classList.add('popover-floating-animation-' + attrs.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!popover.classList.contains('hide-popover-element')) {\n\t\t\t\t\t\tcreatePopover();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t}\n\t\t};\n\t}]);\n  return app;\n}\n\n(module&&module.exports)?\nmodule.exports=mod():(mod)();"],"sourceRoot":"dist"}