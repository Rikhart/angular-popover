var app=angular.module("angular-popover",[]);app.directive("angularPopover",["$window",function(m){return{restrict:"A",transclude:!0,scope:!0,template:'<div class="angular-popover-container"><div class="angular-popover hide-popover-element"><div ng-if="isTemplateUrl()" ng-include="getContentPopover()" class="angular-popover-template"></div><div ng-if="!isTemplateUrl()" class="angular-popover-template"></div></div><div class="angular-popover-triangle hide-popover-element" ng-class="getTriangleClass()"></div></div><ng-transclude></ng-transclude>',link:function(e,t,o){"static"===m.getComputedStyle(t[0]).position&&(t[0].style.position="relative");var l,i,a,n,s,r,p,c=t[0].querySelector(".angular-popover-container"),d=30;p=Math.sqrt(112.5),Math.sqrt(450);var v=o.mode||"click",g=void 0===o.closeOnClick?"click"===v:"true"===o.closeOnClick,u=void 0===o.closeOnMouseleave?"mouseover"===v:"true"===o.closeOnMouseleave;e.getContentPopover=function(){return o.templateUrl},e.isTemplateUrl=function(){return!!o.templateUrl},e.getTriangleClass=function(){return"angular-popover-triangle-"+o.direction},u&&t[0].addEventListener("mouseleave",function(){l&&(l.classList.add("hide-popover-element"),r.classList.add("hide-popover-element"))}),"click"!==v&&g&&t[0].addEventListener("click",function(){l&&(l.classList.add("hide-popover-element"),r.classList.add("hide-popover-element"))}),t[0].addEventListener(v,function(){i=t[0].clientHeight,c.style.top=i+"px",a=t[0].clientWidth,l=t[0].querySelector(".angular-popover"),r=t[0].querySelector(".angular-popover-triangle"),"click"===v&&g?(l.classList.toggle("hide-popover-element"),r.classList.toggle("hide-popover-element"),c.classList.toggle("popover-animation"),c.classList.toggle("popover-floating-animation-"+o.direction)):"click"!==v||g?l.classList.contains("hide-popover-element")&&(l.classList.remove("hide-popover-element"),r.classList.remove("hide-popover-element"),c.classList.add("popover-animation"),c.classList.add("popover-floating-animation-"+o.direction)):(l.classList.remove("hide-popover-element"),r.classList.remove("hide-popover-element"),c.classList.add("popover-animation"),c.classList.add("popover-floating-animation-"+o.direction)),l.classList.contains("hide-popover-element")||function(){o.template&&(t[0].querySelector(".angular-popover-template").innerHTML=o.template);switch(o.backgroundColor&&(l.style["background-color"]=o.backgroundColor),o.textColor&&(l.style.color=o.textColor),o.padding&&(l.style.padding=o.padding),n=l.clientHeight,s=l.clientWidth,o.direction){case"top":l.style.top=-i-n-p+"px",l.style.left=(a-s)/2+"px",r.style.top=-i-p+"px",r.style.left=(a-d)/2+"px";break;case"bottom":l.style.top=p+"px",l.style.left=(a-s)/2+"px",r.style.top=-(d-p)+"px",r.style.left=(a-d)/2+"px";break;case"right":l.style.top=(i-n)/2-i+"px",l.style.left=a+p+"px",r.style.top=(i-d)/2-i+"px",r.style.left=a-(d-p)+"px";break;case"left":l.style.top=(i-n)/2-i+"px",l.style.right=p+"px",r.style.top=(i-d)/2-i+"px",r.style.left=-p+"px"}}()})}}}]);